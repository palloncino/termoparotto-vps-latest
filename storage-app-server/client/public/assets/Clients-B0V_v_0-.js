import{u as m,r as n,j as e,b as h,L as g}from"./index-B-c2xMjC.js";import{P as y}from"./Pagination-Cf2_NbWG.js";import{a as f}from"./clientService-Bj64bQzW.js";import"./api-CLE4YwRs.js";const j=({onFilterChange:i})=>{const{t:r}=m(),[a,t]=n.useState(""),[o,x]=n.useState(""),[l,d]=n.useState(""),p=s=>{s.preventDefault(),i({name:a,address:o,contact_info:l})};return e.jsx("form",{onSubmit:p,className:"mb-4",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"text",placeholder:"Filter by name",value:a,onChange:s=>t(s.target.value),className:"border rounded px-2 py-1"}),e.jsx("input",{type:"text",placeholder:"Filter by address",value:o,onChange:s=>x(s.target.value),className:"border rounded px-2 py-1"}),e.jsx("input",{type:"text",placeholder:"Filter by contact info",value:l,onChange:s=>d(s.target.value),className:"border rounded px-2 py-1"}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-1 rounded",children:r("Apply Filters")})]})})},b=({clients:i})=>{const{t:r}=m(),{user:a}=h();return e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("name")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("contact")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("address")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(a==null?void 0:a.role)==="admin"?e.jsx(g,{to:`/clients/${t._id}`,className:"text-indigo-600 hover:text-indigo-900",children:t.name}):e.jsx("span",{children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.contact_info}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.address})]},t._id))})]})},S=()=>{const{t:i}=m(),[r,a]=n.useState([]),[t,o]=n.useState(1),[x,l]=n.useState(1),[d,p]=n.useState({name:"",address:"",contact_info:""});n.useEffect(()=>{s()},[t,d]);const s=async()=>{try{const c=await f(t,d);a(c.clients),l(c.totalPages)}catch(c){console.error("Error fetching clients:",c)}},u=c=>{p(c),o(1)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:i("clients")}),e.jsx(j,{onFilterChange:u}),e.jsx(b,{clients:r}),e.jsx(y,{currentPage:t,totalPages:x,onPageChange:o})]})};export{S as default};
