import{u as g,r,j as e}from"./index-DAlyebKm.js";import{c as f}from"./usersService-5WNoH53C.js";import"./api-0awuLtFQ.js";const v=()=>{const{t:s}=g(),[o,i]=r.useState(null),[x,a]=r.useState(!1),[h,l]=r.useState(""),[p,d]=r.useState(""),[c,n]=r.useState(null),[b,u]=r.useState(!0);r.useEffect(()=>{j()},[]);const j=async()=>{u(!0);try{const t=await f();i(t),l(t.name),d(t.email)}catch{n(s("fetch_profile_error"))}finally{u(!1)}},y=async t=>{t.preventDefault(),n(null);try{const m=await f();i(m),a(!1)}catch{n(s("update_profile_error"))}};return b?e.jsx("div",{children:s("loading")}):c?e.jsx("div",{className:"text-red-500",children:c}):o?e.jsx("div",{className:"bg-white shadow-md rounded-lg p-6",children:x?e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:s("name")}),e.jsx("input",{type:"text",id:"name",value:h,onChange:t=>l(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:s("email")}),e.jsx("input",{type:"email",id:"email",value:p,onChange:t=>d(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s("save_changes")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[s("name"),":"]})," ",o.name]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("email"),":"]})," ",o.email]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("role"),":"]})," ",o.role]}),e.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s("edit_profile")})]})}):e.jsx("div",{children:s("no_profile_data")})},S=()=>{const{t:s}=g();return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:s("user_profile")}),e.jsx(v,{})]})};export{S as default};
