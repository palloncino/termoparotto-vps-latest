import{u as w,j as e,G as A,H as I,I as q,R as D,r as j,J as U,M as V}from"./index-BzT01pgb.js";import{f as P,R as Z,u as X}from"./ReportDetails-C-JcJNMw.js";import{T as M}from"./Tooltip-3sZFgCZQ.js";const W=({activity:n,index:r,clients:u=[],worksites:i=[],products:h=[],users:p=[],handleActivityChange:o,removeActivity:g,appendTask:c,removeTask:f,appendMaterial:v,removeMaterial:T})=>{var $;const{t:a}=w(),k=l=>{const{checked:t}=l.target,s=t?"rules":"manual";console.log({newMethod:s}),o(r,"valid_travel_time",s),s==="manual"?o(r,"travel_time_rules_applied",void 0):s==="rules"&&o(r,"travel_time_hours","")},R=l=>{const t=l.target.value;if(!t){o(r,"travel_time_hours","");return}if(/^\d*[.,]?\d{0,2}$/.test(t)){const s=t.replace(",",".");o(r,"travel_time_hours",s)}},S=l=>{const t=l.target.value;if(t){const s=parseFloat(t.replace(",","."));o(r,"travel_time_hours",Number(s.toFixed(2)))}},E=l=>{const t=parseInt(l.target.value,10);let s=0;switch(t){case 15:s=.5;break;case 26:s=1;break;case 46:s=2;break;case 66:s=2.5;break;default:s=0}o(r,"travel_time_rules_applied",{distance_km:t,travel_time_hours:s,note:`Rule for ${t} km`}),o(r,"travel_time_hours",s)},C=(l,t)=>{const s=n.tasks[l].assigned_technician_ids,d=s.includes(t)?s.filter(m=>m!==t):[...s,t];o(r,`tasks[${l}].assigned_technician_ids`,d)},N=(l,t)=>{const s=t.target.value;if(!s){o(r,`tasks[${l}].work_hours`,"");return}if(/^\d*[.,]?\d{0,2}$/.test(s)){const d=s.replace(",",".");o(r,`tasks[${l}].work_hours`,d)}},O=(l,t)=>{const s=t.target.value;if(s){const d=parseFloat(s.replace(",","."));o(r,`tasks[${l}].work_hours`,Number(d.toFixed(2)))}};return e.jsxs("div",{className:"grid grid-cols-1 gap-6 bg-white rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[a("activity")," ",r+1]}),e.jsx(M,{content:a("remove_activity"),children:e.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-2 rounded-lg transition-colors",onClick:()=>g(r),children:e.jsx(A,{})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("client")}),e.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.client_id||"",onChange:l=>o(r,"client_id",l.target.value),children:[e.jsx("option",{value:"",children:a("select_client")}),u.map(l=>e.jsx("option",{value:l._id,children:l.name},l._id))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("worksite")}),e.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.worksite_id||"",onChange:l=>o(r,"worksite_id",l.target.value),children:[e.jsx("option",{value:"",children:a("select_worksite")}),i.filter(l=>{const t=l.client_id||l.clientId,s=n.client_id;return s?t?t.toString()===s.toString():!1:!0}).map(l=>e.jsx("option",{value:l._id,children:l.name},l._id))]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("travel_time")}),e.jsx("div",{className:"flex items-start gap-4 mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`valid_travel_time_${r}`,className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500",checked:n.valid_travel_time==="rules",onChange:k}),e.jsx("label",{htmlFor:`valid_travel_time_${r}`,className:"ml-2 text-sm",children:a("use_travel_time_rules")})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`w-full ${n.valid_travel_time!=="manual"?"opacity-50 pointer-events-none":""}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("manual_travel_time_hours")}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.travel_time_hours||"",onChange:R,onBlur:S,placeholder:a("enter_travel_time_hours")}),e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:P(n.travel_time_hours||0,a)})]}),e.jsxs("div",{className:`w-full ${n.valid_travel_time!=="rules"?"opacity-50 pointer-events-none":""}`,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("travel_time_rules")}),e.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:(($=n.travel_time_rules_applied)==null?void 0:$.distance_km)||"",onChange:E,children:[e.jsx("option",{value:"",children:a("select_distance")}),e.jsx("option",{value:"15",children:"15-25 km"}),e.jsx("option",{value:"26",children:"26-45 km"}),e.jsx("option",{value:"46",children:"46-65 km"}),e.jsx("option",{value:"66",children:"66-100 km"})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• 15-25 km from headquarters → 0.5 hours travel time (e.g., Castello Tesino – Levico - Caldonazzo)"}),e.jsx("li",{children:"• 26-45 km from headquarters → 1 hour travel time (e.g., Pergine – Trento)"}),e.jsx("li",{children:"• 46-65 km from headquarters → 2 hours travel time (e.g., Rovereto)"}),e.jsx("li",{children:"• 66-100 km from headquarters → 2.5 hours travel time (e.g., Bolzano)"})]})})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:a("tasks")}),e.jsxs("button",{type:"button",className:"bg-blue-500 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2",onClick:l=>c(l,r),children:[e.jsx(I,{size:14}),e.jsx("span",{children:a("add_task")})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.tasks.map((l,t)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900",children:[a("task")," ",t+1]}),e.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-2 rounded-lg transition-colors",onClick:()=>f(r,t),children:e.jsx(A,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("task_description")}),e.jsx("textarea",{className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[80px]",value:l.task_description,onChange:s=>o(r,`tasks[${t}].task_description`,s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("work_hours")}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:l.work_hours||"",onChange:s=>N(t,s),onBlur:s=>O(t,s),placeholder:a("work_hours_placeholder")}),e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:(l==null?void 0:l.work_hours)&&P(l==null?void 0:l.work_hours,a)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("intervention_type")}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:`intervention_type_${t}`,checked:l.intervention_type.da_preventivo,onChange:s=>{o(r,`tasks[${t}].intervention_type.da_preventivo`,!0),o(r,`tasks[${t}].intervention_type.in_economia`,!1),o(r,`tasks[${t}].intervention_type.sopralluogo`,!1)},className:"text-blue-500 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm",children:a("da_preventivo")})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:`intervention_type_${t}`,checked:l.intervention_type.in_economia,onChange:s=>{o(r,`tasks[${t}].intervention_type.da_preventivo`,!1),o(r,`tasks[${t}].intervention_type.in_economia`,!0),o(r,`tasks[${t}].intervention_type.sopralluogo`,!1)},className:"text-blue-500 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm",children:a("in_economia")})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:`intervention_type_${t}`,checked:l.intervention_type.sopralluogo,onChange:s=>{o(r,`tasks[${t}].intervention_type.da_preventivo`,!1),o(r,`tasks[${t}].intervention_type.in_economia`,!1),o(r,`tasks[${t}].intervention_type.sopralluogo`,!0)},className:"text-blue-500 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm",children:a("sopralluogo")})]})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex items-center gap-4 mb-2",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:l.material_unloading||!1,onChange:s=>o(r,`tasks[${t}].material_unloading`,s.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:a("material_unloading")})]})}),l.material_unloading&&e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("material_unloading_hours")}),e.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:l.material_unloading_hours||"",onChange:s=>o(r,`tasks[${t}].material_unloading_hours`,parseFloat(s.target.value)||0),placeholder:a("enter_hours"),min:"0",step:"0.5"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("intervention_status")}),e.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:l.intervention_status||"",onChange:s=>o(r,`tasks[${t}].intervention_status`,s.target.value),children:[e.jsx("option",{value:"",children:a("select_status")}),e.jsx("option",{value:"intervento_finito",children:a("intervento_finito")}),e.jsx("option",{value:"intervento_sospeso",children:a("intervento_sospeso")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("payment_status")}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:`payment_status_${t}`,checked:l.payment_status==="si",onChange:s=>o(r,`tasks[${t}].payment_status`,"si"),className:"text-blue-500 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm",children:a("si")})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:`payment_status_${t}`,checked:l.payment_status==="no",onChange:s=>o(r,`tasks[${t}].payment_status`,"no"),className:"text-blue-500 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm",children:a("no")})]})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("assigned_technicians")}),e.jsx("div",{className:"flex flex-wrap gap-2 p-2 bg-gray-50 rounded-lg",children:p.map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500",checked:l.assigned_technician_ids.includes(s._id),onChange:()=>C(t,s._id)}),e.jsx("span",{className:"text-sm",children:s.name})]},s._id))})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a("materials")}),e.jsxs("button",{type:"button",className:"text-blue-500 hover:text-blue-700 text-sm flex items-center gap-1",onClick:s=>v(s,r,t),children:[e.jsx(I,{size:12}),e.jsx("span",{children:a("add")})]})]}),e.jsx("div",{className:"space-y-2",children:l.materials_used.map((s,d)=>e.jsxs("div",{className:"grid grid-cols-[1fr,120px,auto] gap-2",children:[e.jsxs("select",{className:"px-3 py-1 rounded border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:s.product_id||"",onChange:m=>o(r,`tasks[${t}].materials_used[${d}].product_id`,m.target.value),children:[e.jsx("option",{value:"",children:a("select_product")}),h.map(m=>e.jsx("option",{value:m._id,children:m.descrizione},m._id))]}),e.jsx("input",{type:"number",className:"px-3 py-1 rounded border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:s.quantity,onChange:m=>o(r,`tasks[${t}].materials_used[${d}].quantity`,parseFloat(m.target.value)),placeholder:a("qty"),min:"1",step:"0.1"}),e.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-1",onClick:()=>T(r,t,d),children:e.jsx(A,{size:12})})]},d))})]})]})]},t))})]})]})},Y=({report:n,onClose:r})=>{const{t:u}=w(),i=o=>{r()},h=o=>{o.stopPropagation()},p=e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999},className:"flex items-center justify-center",onClick:i,children:e.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-3xl w-full relative overflow-y-auto max-h-[90vh] m-4",onClick:h,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:u("report_preview")}),e.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-800 transition-colors",children:e.jsx(q,{})})]}),e.jsx("p",{className:"text-gray-500 italic mb-4",children:u("this_is_a_preview_of_your_report")}),e.jsx(Z,{report:n})]})});return D.createPortal(p,document.body)},J=({formData:n,users:r,handleChange:u})=>{const{t:i}=w(),[h,p]=j.useState(!1),o=["NO PRANZO","ALTRO","CASA","ALBERGO CIMA D' ASTA DI FATTORE GLORIA","al Brenta S.r.l Albergo Ristorante","La Rotonda di Betti Marco & C. Snc Albergo Ristorante","BAR VILLA","BETTY S HILL DI MARIGHETTO BETTY","Birra Forst S.P.A.   Brauerei Forst A.G.","CAMPING VALMALENE","CHARRO'S TEX MEX ESERCIZI RIUNITI SNC","CRUCOLO OSTERIE SRL","HOTEL KAPRIOL DI FONTANA SCHADE & C.SAS","HOTEL VELA Fratelli Guetti S.r.l.","MONTE CIMONE T.R.D.di Tiziano Zangoni & C.snc","ZUM MOHREN RESTAURANT PIZZERIA","RISTO 3 SOC. COOP.","RISTO' DA GUIDO S.R.L.","AL MULINO S.N.C. di RISTORANTE","ALLA STAZIONE DI MURATOVIC HANIFA RISTORANTE","SAN GIORGIO DI GUIDI ERIC RISTORANTE","INSERISCI MANUALMENTE RISTORANTE"],g=c=>{const f=c.target.value;if(f==="INSERISCI MANUALMENTE RISTORANTE"||f==="ALTRO"){p(!0);const v=document.getElementById("manual_lunch_location");v&&(v.value="")}else p(!1);u(c)};return e.jsxs("div",{className:"w-full",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:i("report_header")}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("date")}),e.jsx("input",{type:"date",name:"date",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.date,onChange:u,required:!0})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("author")}),e.jsxs("select",{name:"author_id",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.author_id,onChange:u,required:!0,children:[e.jsx("option",{value:"",children:i("select_author")}),r==null?void 0:r.map(c=>e.jsx("option",{value:c._id,children:c.name},c._id))]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("head_description")}),e.jsx("textarea",{name:"head_description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[100px]",value:n.head_description,onChange:u,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("status")}),e.jsxs("select",{name:"status",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.status,onChange:u,required:!0,children:[e.jsx("option",{value:"",children:i("select_status")}),e.jsx("option",{value:"PLANNED",children:i("planned")}),e.jsx("option",{value:"IN_PROGRESS",children:i("in_progress")}),e.jsx("option",{value:"FINITO",children:i("finito")}),e.jsx("option",{value:"SOSPESO",children:i("sospeso")}),e.jsx("option",{value:"DRAFT",children:i("draft")})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("lunch_location")}),e.jsxs("select",{name:"lunch_location",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.lunch_location||"",onChange:g,children:[e.jsx("option",{value:"",children:i("select_lunch_location")}),o.map(c=>e.jsx("option",{value:c,children:c},c))]}),h&&e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("manual_lunch_location")}),e.jsx("input",{id:"manual_lunch_location",type:"text",name:"lunch_location",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:i("enter_manual_lunch_location"),onChange:u})]})]})]})]})]})},se=()=>{var F,B;const{t:n}=w(),{formData:r,clients:u,worksites:i,products:h,users:p,isLoading:o,error:g,handleHeaderChange:c,handleActivityChange:f,handleSubmit:v,appendActivity:T,removeActivity:a,appendTask:k,removeTask:R,appendMaterial:S,removeMaterial:E}=X(),[C,N]=j.useState(!1),[O,$]=j.useState(!0),[l,t]=j.useState(0),s=j.useRef([]),d=()=>{N(!0)};if(g)return e.jsx("div",{className:"text-red-500",children:g});const m=r.activities[l],H=m?m.tasks.length:0,z=y=>{t(y)},G=e.jsxs("div",{className:`fixed bottom-4 left-4 bg-white border border-gray-300 rounded-lg shadow-lg p-4 z-50 ${O?"":"hidden"}`,style:{gap:"1rem"},children:[e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[n("you_are_watching_activity")," ",l+1," ",n("with_n_tasks")," ",H]})}),e.jsx("div",{children:e.jsx(M,{content:n("preview_report_tooltip"),children:e.jsxs("button",{type:"button",className:"flex items-center bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",onClick:d,children:[e.jsx(U,{className:"mr-2"}),n("preview")]})})})]});return e.jsxs("form",{onSubmit:v,className:"grid grid-cols-1 gap-6 bg-white rounded-lg p-8",children:[e.jsx("section",{className:"w-full",children:e.jsx(J,{formData:r.header,users:p,handleChange:c})}),e.jsx("section",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-6 rounded-lg mb-6 my-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n("activities")}),e.jsx("div",{className:"flex-grow flex items-center justify-center gap-2",children:(F=r.activities)==null?void 0:F.map((y,x)=>e.jsx("button",{type:"button",className:`h-8 min-w-[32px] px-3 rounded-full text-sm font-medium transition-colors ${x===l?"bg-blue-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}`,onClick:()=>z(x),children:x+1},x))}),e.jsxs("button",{type:"button",className:"flex items-center gap-2 bg-white border border-blue-500 text-blue-500 hover:bg-blue-50 px-4 py-2 rounded-lg transition-colors",onClick:()=>{T(),setTimeout(()=>{t(r.activities.length)},0)},children:[e.jsx(I,{size:14}),n("add_activity")]})]}),e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:(B=r.activities)==null?void 0:B.map((y,x)=>e.jsx("div",{className:"w-full flex-shrink-0",ref:b=>s.current[x]=b,children:e.jsx(W,{activity:y,index:x,clients:u,worksites:i,products:h,users:p,handleActivityChange:(b,_,L)=>{f(b,_,L)},removeActivity:a,appendTask:(b,_)=>{b.preventDefault(),k(_)},removeTask:R,appendMaterial:(b,_,L)=>{b.preventDefault(),S(_,L)},removeMaterial:E})},x))})})]})}),e.jsx("section",{className:"w-full flex justify-end gap-4",children:e.jsx(M,{content:n("submit_report_tooltip"),children:e.jsxs("button",{type:"submit",className:"flex items-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:[e.jsx(V,{className:"mr-2"}),n("submit")]})})}),C&&e.jsx(Y,{report:r,onClose:()=>N(!1)}),D.createPortal(G,document.body)]})};export{se as R};
