import{u as b,c as g,r as l,j as e}from"./index-B-c2xMjC.js";import{c as _}from"./productsService-CtlFfOUs.js";import"./api-CLE4YwRs.js";const w=()=>{const{t}=b(),d=g(),[o,c]=l.useState(!1),[u,m]=l.useState(null),[a,p]=l.useState({item_code:"",supplier_item_code:"",item_description:"",diameter:"",length_mm:"",unit_price_list:"",unit_price_first_discount:"",unit_price_net:"",unit_price_markup:"",unit_price_taxable:"",unit_price_sale:"",type:"product"}),s=n=>{const{name:r,value:i}=n.target;p(h=>({...h,[r]:r.includes("price")||r==="diameter"||r==="length_mm"?i===""?"":parseFloat(i):i}))},x=async n=>{n.preventDefault(),c(!0),m(null);try{await _(a),d("/products")}catch(r){m(r instanceof Error?r.message:"Error creating product")}finally{c(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:t("CreateProduct")}),e.jsx("form",{onSubmit:x,className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg px-8 pt-6 pb-8 mb-6",children:[u&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:u}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"item_code",children:[t("item_code"),"*"]}),e.jsx("input",{type:"text",id:"item_code",name:"item_code",value:a.item_code,onChange:s,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"supplier_item_code",children:[t("supplier_item_code"),"*"]}),e.jsx("input",{type:"text",id:"supplier_item_code",name:"supplier_item_code",value:a.supplier_item_code,onChange:s,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"item_description",children:[t("item_description"),"*"]}),e.jsx("input",{type:"text",id:"item_description",name:"item_description",value:a.item_description,onChange:s,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"diameter",children:[t("diameter"),"*"]}),e.jsx("input",{type:"number",id:"diameter",name:"diameter",value:a.diameter,onChange:s,required:!0,step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"length_mm",children:[t("length_mm"),"*"]}),e.jsx("input",{type:"number",id:"length_mm",name:"length_mm",value:a.length_mm,onChange:s,required:!0,step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),["unit_price_list","unit_price_first_discount","unit_price_net","unit_price_markup","unit_price_taxable","unit_price_sale"].map(n=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:n,children:[t(n),"*"]}),e.jsx("input",{type:"number",id:n,name:n,value:a[n],onChange:s,required:!0,step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]},n)),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"type",children:[t("type"),"*"]}),e.jsxs("select",{id:"type",name:"type",value:a.type,onChange:s,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"product",children:t("product")}),e.jsx("option",{value:"material",children:t("material")})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-8",children:[e.jsx("button",{type:"button",onClick:()=>d("/products"),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:t("cancel")}),e.jsx("button",{type:"submit",disabled:o,className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ${o?"opacity-50 cursor-not-allowed":""}`,children:t(o?"creating":"create")})]})]})})]})};export{w as default};
