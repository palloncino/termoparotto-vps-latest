import{u as f,a as x,j as e}from"./index-3jO3fjpg.js";import{r as s}from"./vendor-8AKiDlQN.js";import{R as h}from"./ReportList-DohBCdyS.js";import{a as g}from"./reportService-CmqWvr86.js";import{u as j}from"./router-BmsaeIqg.js";import"./clientService-qRF0PNhS.js";import"./api-BqC8VQ1e.js";import"./usersService--1COgLA-.js";import"./worksiteService-DblhuvHv.js";import"./Tooltip-G16JA63y.js";import"./formatDate-BuXJr5y_.js";const A=()=>{const{t:r}=f(),l=j(),[i,u]=s.useState([]),[m,n]=s.useState(!0),[a,c]=s.useState(null),{user:o}=x();s.useEffect(()=>{p()},[]);const p=async()=>{n(!0);try{const t=await g();u(t),c(null)}catch(t){c(r("error_fetching_reports")),console.error(r("error_fetching_reports"),t)}finally{n(!1)}},d=()=>{p()};return e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:r("report_list")}),e.jsx("button",{onClick:()=>l("/report-create"),className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:r("create_report")})]}),m?e.jsx("p",{children:r("loading_reports")}):a?e.jsx("p",{className:"text-red-500",children:a}):e.jsx(h,{reports:o&&o.role==="user"?i.filter(t=>t.header&&t.header.author_id===o._id):i,onReportDeleted:d})]})};export{A as default};
