import{u as H,j as e,C as $,D as z,E as L,G as V,A as G,H as X}from"./index-CDqGnBVK.js";import{r as n}from"./vendor-8AKiDlQN.js";import{u as q}from"./ReportDetails-Dj7lfo4U.js";import{T as v}from"./Tooltip-ljkmbqI4.js";import{R as J,A as K,P as O}from"./ReportHeader-ChsY3L9b.js";const te=()=>{var u,p,b;const{t}=H(),{formData:r,clients:f,worksites:g,products:j,users:c,handleHeaderChange:w,handleActivityChange:N,handleSubmit:y,appendActivity:k,removeActivity:_,appendTask:A,removeTask:C,appendMaterial:F,removeMaterial:R,validateForm:T}=q(),[P,m]=n.useState(!1),[S,Q]=n.useState(!0),[o,x]=n.useState(0),D=n.useRef([]),B=()=>{m(!0)},h=(u=r.activities)==null?void 0:u[o],E=h?h.tasks.length:0,I=a=>{x(a)},M=e.jsxs("div",{className:`fixed bottom-4 left-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-2xl p-6 z-50 border-2 border-blue-300 ${S?"":"hidden"}`,style:{gap:"1rem"},children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx($,{className:"text-xl"}),e.jsxs("p",{className:"text-lg font-bold",children:["ðŸŽ¯ ",t("you_are_watching_activity")," ",o+1]})]}),e.jsxs("p",{className:"text-sm opacity-90",children:["ðŸ“ ",t("with_n_tasks_complete",{count:E})]})]}),e.jsx("div",{children:e.jsx(v,{content:t("preview_report_tooltip"),children:e.jsxs("button",{type:"button",className:"flex items-center bg-white text-blue-600 hover:bg-blue-50 font-bold py-3 px-6 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",onClick:B,children:[e.jsx(z,{className:"mr-2"}),"ðŸ‘ï¸ ",t("preview")]})})})]});return e.jsxs("form",{onSubmit:y,className:"grid grid-cols-1 gap-8",children:[e.jsx("section",{className:"w-full",children:e.jsx(J,{formData:r.header,users:c,handleChange:w})}),e.jsx("section",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 rounded-xl shadow-lg text-white",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(L,{className:"text-3xl"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["ðŸš€ ",t("activities")]}),e.jsxs("p",{className:"text-lg opacity-90 mt-1",children:["ðŸ“‹"," ",t("manage_your_activities","Manage your work activities and tasks")]})]})]})})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(V,{className:"text-xl text-blue-500"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["ðŸ“ ",t("activity_navigation","Activity Navigation")]})]}),e.jsxs("button",{type:"button",className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white hover:from-emerald-600 hover:to-emerald-700 px-6 py-3 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg font-semibold",onClick:()=>{k(),setTimeout(()=>{var a;x(((a=r.activities)==null?void 0:a.length)||0)},0)},children:[e.jsx(G,{size:16}),"âœ¨ ",t("add_activity")]})]}),e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3",children:(p=r.activities)==null?void 0:p.map((a,s)=>e.jsx("button",{type:"button",className:`h-12 min-w-[48px] px-4 rounded-xl text-lg font-bold transition-all duration-200 shadow-md hover:shadow-lg ${s===o?"bg-gradient-to-r from-blue-500 to-blue-600 text-white transform scale-110":"bg-white border-2 border-blue-300 text-blue-600 hover:bg-blue-50 hover:border-blue-400"}`,onClick:()=>I(s),children:s+1},s))})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-blue-200",children:e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${o*100}%)`},children:(b=r.activities)==null?void 0:b.map((a,s)=>e.jsx("div",{className:"w-full flex-shrink-0",ref:i=>D.current[s]=i,children:e.jsx(K,{activity:a,index:s,clients:f,worksites:g,products:j,users:c,handleActivityChange:(i,l,d)=>{N(i,l,d)},removeActivity:_,appendTask:(i,l)=>{i.preventDefault(),A(l)},removeTask:C,appendMaterial:(i,l,d)=>{i.preventDefault(),F(l,d)},removeMaterial:R})},s))})})})]})}),e.jsx("section",{className:"w-full flex justify-end gap-4",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 p-6 rounded-xl shadow-lg",children:e.jsx(v,{content:t("submit_report_tooltip"),children:e.jsxs("button",{type:"submit",className:"flex items-center bg-white text-emerald-600 hover:bg-emerald-50 font-bold py-4 px-8 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(X,{className:"mr-3 text-xl"}),e.jsxs("span",{className:"text-lg",children:["âœ… ",t("submit")]})]})})})}),P&&e.jsx(O,{report:r,onClose:()=>m(!1),validateForm:T}),M]})};export{te as R};
