import{r as t,d as x,b as f,j as e,u as p}from"./index-DAlyebKm.js";import{a as h}from"./api-0awuLtFQ.js";const b=async s=>(await h.post("/auth/login",s)).data,w=()=>{const[s,r]=t.useState(""),[a,l]=t.useState(""),[n,i]=t.useState(""),u=x(),{login:m}=f(),g=async o=>{o.preventDefault(),i("");try{const c=await b({email:s,password:a});m(c.token,c.user),u("/")}catch(d){i("Login failed. Please check your credentials and try again."),console.error("Login error:",d)}};return e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n&&e.jsx("div",{className:"text-red-500",children:n}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:s,onChange:o=>r(o.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:a,onChange:o=>l(o.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),e.jsx("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Log In"})]})},v=()=>{const{t:s}=p();return e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:s("login")}),e.jsx(w,{})]})};export{v as default};
