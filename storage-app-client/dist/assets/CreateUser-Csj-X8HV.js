import{u as f,i as p,a as b,j as e}from"./index-DSTbHML1.js";import{r as m}from"./vendor-8AKiDlQN.js";import{c as y}from"./usersService--1COgLA-.js";import{u as j}from"./router-BmsaeIqg.js";import"./api-BqC8VQ1e.js";const F=()=>{const{t:s}=f(),l=j(),{showFlashMessage:d}=p(),{user:n}=b(),[u,c]=m.useState(!1),[r,x]=m.useState({name:"",email:"",password:"",role:"user",hourly_cost:0}),o=i=>{const{name:a,value:t}=i.target;x(h=>({...h,[a]:a==="hourly_cost"?parseFloat(t)||0:t}))},g=async i=>{i.preventDefault(),c(!0);try{await y(r),d(s("user_created_successfully"),"success"),l("/users")}catch(a){const t=a instanceof Error?a.message:"Error creating user";d(t,"error")}finally{c(!1)}};return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:s("create_user")}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:[s("name")," *"]}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:r.name,onChange:o})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:[s("email")," *"]}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:r.email,onChange:o})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:[s("password")," *"]}),e.jsx("input",{type:"password",id:"password",name:"password",required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:r.password,onChange:o})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:[s("role")," *"]}),e.jsxs("select",{id:"role",name:"role",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:r.role,onChange:o,children:[e.jsx("option",{value:"user",children:s("user")}),e.jsx("option",{value:"admin",children:s("admin")})]})]}),(n==null?void 0:n.role)==="admin"&&e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"hourly_cost",className:"block text-sm font-medium text-gray-700 mb-2",children:[s("hourly_cost")," (â‚¬)"]}),e.jsx("input",{type:"number",id:"hourly_cost",name:"hourly_cost",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:r.hourly_cost,onChange:o,placeholder:"0.00"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s("hourly_cost_description")})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s(u?"creating":"create_user")}),e.jsx("button",{type:"button",onClick:()=>l("/users"),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:s("cancel")})]})]})]})})};export{F as default};
