import{u as b,j as e}from"./index-DSTbHML1.js";import{r as l}from"./vendor-8AKiDlQN.js";import{c as g}from"./productsService-BwLSiUTT.js";import{u as f}from"./router-BmsaeIqg.js";import"./api-BqC8VQ1e.js";const N=()=>{const{t}=b(),d=f(),[s,u]=l.useState(!1),[c,m]=l.useState(null),[a,p]=l.useState({data_documento:"",descrizione:"",descrizione_interna:"",fornitore:"",unit_of_measure:"pz",prezzo_acquisto:"",utile:"",imponibile:"",iva_10:"",iva_22:""}),i=n=>{const{name:o,value:r}=n.target;p(h=>({...h,[o]:o.includes("prezzo")||o.includes("utile")||o.includes("imponibile")||o.includes("iva")?r===""?"":parseFloat(r):r}))},x=async n=>{n.preventDefault(),u(!0),m(null);try{await g(a),d("/products")}catch(o){m(o instanceof Error?o.message:"Error creating product")}finally{u(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:t("CreateProduct")}),e.jsx("form",{onSubmit:x,className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg px-8 pt-6 pb-8 mb-6",children:[c&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:c}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"data_documento",children:[t("data_documento"),"*"]}),e.jsx("input",{type:"date",id:"data_documento",name:"data_documento",value:a.data_documento,onChange:i,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"fornitore",children:[t("fornitore"),"*"]}),e.jsx("input",{type:"text",id:"fornitore",name:"fornitore",value:a.fornitore,onChange:i,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"unit_of_measure",children:[t("unit_of_measure"),"*"]}),e.jsxs("select",{id:"unit_of_measure",name:"unit_of_measure",value:a.unit_of_measure,onChange:i,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"pz",children:t("unit_pz")}),e.jsx("option",{value:"kg",children:t("unit_kg")}),e.jsx("option",{value:"m",children:t("unit_m")}),e.jsx("option",{value:"l",children:t("unit_l")}),e.jsx("option",{value:"m²",children:t("unit_m2")}),e.jsx("option",{value:"m³",children:t("unit_m3")}),e.jsx("option",{value:"cm",children:t("unit_cm")}),e.jsx("option",{value:"mm",children:t("unit_mm")}),e.jsx("option",{value:"km",children:t("unit_km")}),e.jsx("option",{value:"g",children:t("unit_g")}),e.jsx("option",{value:"t",children:t("unit_t")}),e.jsx("option",{value:"ml",children:t("unit_ml")}),e.jsx("option",{value:"cl",children:t("unit_cl")}),e.jsx("option",{value:"dl",children:t("unit_dl")})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"descrizione",children:[t("descrizione"),"*"]}),e.jsx("input",{type:"text",id:"descrizione",name:"descrizione",value:a.descrizione,onChange:i,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"descrizione_interna",children:[t("descrizione_interna"),"*"]}),e.jsx("input",{type:"text",id:"descrizione_interna",name:"descrizione_interna",value:a.descrizione_interna,onChange:i,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),["prezzo_acquisto","utile","imponibile","iva_10","iva_22"].map(n=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:n,children:[t(n),"*"]}),e.jsx("input",{type:"number",id:n,name:n,value:a[n],onChange:i,required:!0,step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]},n))]}),e.jsxs("div",{className:"flex items-center justify-between mt-8",children:[e.jsx("button",{type:"button",onClick:()=>d("/products"),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:t("cancel")}),e.jsx("button",{type:"submit",disabled:s,className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ${s?"opacity-50 cursor-not-allowed":""}`,children:t(s?"creating":"create")})]})]})})]})};export{N as default};
