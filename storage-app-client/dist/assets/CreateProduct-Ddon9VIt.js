import{u as b,j as e}from"./index-Cs62EXw_.js";import{r as l}from"./vendor-8AKiDlQN.js";import{c as g}from"./productsService-BwLSiUTT.js";import{u as f}from"./router-BmsaeIqg.js";import"./api-BqC8VQ1e.js";const z=()=>{const{t:o}=b(),d=f(),[r,c]=l.useState(!1),[u,m]=l.useState(null),[a,p]=l.useState({data_documento:"",descrizione:"",descrizione_interna:"",fornitore:"",prezzo_acquisto:"",utile:"",imponibile:"",iva_10:"",iva_22:""}),s=t=>{const{name:n,value:i}=t.target;p(h=>({...h,[n]:n.includes("prezzo")||n.includes("utile")||n.includes("imponibile")||n.includes("iva")?i===""?"":parseFloat(i):i}))},x=async t=>{t.preventDefault(),c(!0),m(null);try{await g(a),d("/products")}catch(n){m(n instanceof Error?n.message:"Error creating product")}finally{c(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:o("CreateProduct")}),e.jsx("form",{onSubmit:x,className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg px-8 pt-6 pb-8 mb-6",children:[u&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:u}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"data_documento",children:[o("data_documento"),"*"]}),e.jsx("input",{type:"date",id:"data_documento",name:"data_documento",value:a.data_documento,onChange:s,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"fornitore",children:[o("fornitore"),"*"]}),e.jsx("input",{type:"text",id:"fornitore",name:"fornitore",value:a.fornitore,onChange:s,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"descrizione",children:[o("descrizione"),"*"]}),e.jsx("input",{type:"text",id:"descrizione",name:"descrizione",value:a.descrizione,onChange:s,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"descrizione_interna",children:[o("descrizione_interna"),"*"]}),e.jsx("input",{type:"text",id:"descrizione_interna",name:"descrizione_interna",value:a.descrizione_interna,onChange:s,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),["prezzo_acquisto","utile","imponibile","iva_10","iva_22"].map(t=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:t,children:[o(t),"*"]}),e.jsx("input",{type:"number",id:t,name:t,value:a[t],onChange:s,required:!0,step:"0.01",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]},t))]}),e.jsxs("div",{className:"flex items-center justify-between mt-8",children:[e.jsx("button",{type:"button",onClick:()=>d("/products"),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:o("cancel")}),e.jsx("button",{type:"submit",disabled:r,className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ${r?"opacity-50 cursor-not-allowed":""}`,children:o(r?"creating":"create")})]})]})})]})};export{z as default};
