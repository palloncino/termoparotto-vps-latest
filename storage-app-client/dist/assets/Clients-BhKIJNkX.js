import{u as m,b as u,j as e,L as h,r as n}from"./index-CAL5QNUn.js";import{a as g}from"./clientService-Bj64bQzW.js";import{P as y}from"./Pagination-DCGx37Iz.js";import"./api-CLE4YwRs.js";const f=({clients:i})=>{const{t:r}=m(),{user:s}=u();return e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("name")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("contact")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("address")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(s==null?void 0:s.role)==="admin"?e.jsx(h,{to:`/clients/${t._id}`,className:"text-indigo-600 hover:text-indigo-900",children:t.name}):e.jsx("span",{children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.contact_info}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.address})]},t._id))})]})},j=({onFilterChange:i})=>{const{t:r}=m(),[s,t]=n.useState(""),[l,d]=n.useState(""),[o,x]=n.useState(""),p=a=>{a.preventDefault(),i({name:s,address:l,contact_info:o})};return e.jsx("form",{onSubmit:p,className:"mb-4",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"text",placeholder:"Filter by name",value:s,onChange:a=>t(a.target.value),className:"border rounded px-2 py-1"}),e.jsx("input",{type:"text",placeholder:"Filter by address",value:l,onChange:a=>d(a.target.value),className:"border rounded px-2 py-1"}),e.jsx("input",{type:"text",placeholder:"Filter by contact info",value:o,onChange:a=>x(a.target.value),className:"border rounded px-2 py-1"}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-1 rounded",children:r("Apply Filters")})]})})},w=()=>{const[i,r]=n.useState([]),[s,t]=n.useState(1),[l,d]=n.useState(1),[o,x]=n.useState({name:"",address:"",contact_info:""});n.useEffect(()=>{p()},[s,o]);const p=async()=>{try{const c=await g(s,o);r(c.clients),d(c.totalPages)}catch(c){console.error("Error fetching clients:",c)}},a=c=>{x(c),t(1)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Clients"}),e.jsx(j,{onFilterChange:a}),e.jsx(f,{clients:i}),e.jsx(y,{currentPage:s,totalPages:l,onPageChange:t})]})};export{w as default};
