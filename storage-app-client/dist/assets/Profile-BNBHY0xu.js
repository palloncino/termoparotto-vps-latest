import{u as x,j as e}from"./index-Cs62EXw_.js";import{r}from"./vendor-8AKiDlQN.js";import{e as y,f as v}from"./usersService--1COgLA-.js";import"./router-BmsaeIqg.js";import"./api-BqC8VQ1e.js";const N=()=>{const{t:s}=x(),[o,c]=r.useState(null),[h,n]=r.useState(!1),[d,i]=r.useState(""),[u,a]=r.useState(""),[m,l]=r.useState(null),[p,f]=r.useState(!0),[w,S]=r.useState(!1),[_,E]=r.useState(null);r.useEffect(()=>{b()},[]);const b=async()=>{f(!0);try{const t=await y();c(t),i(t.name),a(t.email)}catch{l(s("fetch_profile_error"))}finally{f(!1)}},j=async t=>{t.preventDefault(),l(null);try{const g=await v({name:d,email:u});c(g),n(!1)}catch{l(s("update_profile_error"))}};return p?e.jsx("div",{children:s("loading")}):m?e.jsx("div",{className:"text-red-500",children:m}):o?e.jsx("div",{className:"bg-white shadow-md rounded-lg p-6",children:h?e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:s("name")}),e.jsx("input",{type:"text",id:"name",value:d,onChange:t=>i(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:s("email")}),e.jsx("input",{type:"email",id:"email",value:u,onChange:t=>a(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s("save_changes")}),e.jsx("button",{type:"button",onClick:()=>{n(!1),i(o.name),a(o.email)},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s("cancel")})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[s("name"),":"]})," ",o.name]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("email"),":"]})," ",o.email]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("role"),":"]})," ",o.role]}),e.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s("edit_profile")})]})}):e.jsx("div",{children:s("no_profile_data")})},F=()=>{const{t:s}=x();return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:s("user_profile")}),e.jsx(N,{})]})};export{F as default};
