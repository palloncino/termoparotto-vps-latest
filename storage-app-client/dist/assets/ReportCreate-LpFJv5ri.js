import{u as g,j as e,p as z,k as H,q as V,r as q,s as f,t as X,v as G,c as J}from"./index-BUyh9A9T.js";import{r as n}from"./vendor-8AKiDlQN.js";import{u as K}from"./ReportDetails-CjcsXkSV.js";import{T as v}from"./Tooltip-D_nYd3Sl.js";import{R as O,A as Q,P as U}from"./ReportHeader-BzV5VxoU.js";import{u as W}from"./router-BmsaeIqg.js";import"./clientService-qRF0PNhS.js";import"./api-BqC8VQ1e.js";import"./productsService-BwLSiUTT.js";import"./reportService-CsvEZGDr.js";import"./usersService--1COgLA-.js";import"./worksiteService-DblhuvHv.js";import"./formatDate-BAMmqpAD.js";const Y=()=>{var u,p,b;const{t}=g(),{formData:s,clients:j,worksites:w,products:N,users:c,handleHeaderChange:y,handleActivityChange:k,handleSubmit:_,appendActivity:C,removeActivity:A,appendTask:F,removeTask:R,appendMaterial:P,removeMaterial:T,validateForm:S}=K(),[B,m]=n.useState(!1),[D,Z]=n.useState(!0),[o,x]=n.useState(0),I=n.useRef([]),M=()=>{m(!0)},h=(u=s.activities)==null?void 0:u[o],E=h?h.tasks.length:0,L=r=>{x(r)},$=e.jsxs("div",{className:`fixed bottom-4 left-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl shadow-2xl p-6 z-50 border-2 border-blue-300 ${D?"":"hidden"}`,style:{gap:"1rem"},children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(z,{className:"text-xl"}),e.jsxs("p",{className:"text-lg font-bold",children:[t("you_are_watching_activity")," ",o+1]})]}),e.jsx("p",{className:"text-sm opacity-90",children:t("with_n_tasks_complete",{count:E})})]}),e.jsx("div",{children:e.jsx(v,{content:t("preview_report_tooltip"),children:e.jsxs("button",{type:"button",className:"flex items-center bg-white text-blue-600 hover:bg-blue-50 font-bold py-3 px-6 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",onClick:M,children:[e.jsx(H,{className:"mr-2"}),t("preview")]})})})]});return e.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 gap-8",children:[e.jsx("section",{className:"w-full",children:e.jsx(O,{formData:s.header,users:c,handleChange:y})}),e.jsx("section",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 rounded-xl shadow-lg text-white",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(V,{className:"text-3xl"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:t("activities")}),e.jsx("p",{className:"text-lg opacity-90 mt-1",children:t("manage_your_activities","Manage your work activities and tasks")})]})]})})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{className:"text-xl text-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t("activity_navigation","Activity Navigation")})]}),e.jsxs("button",{type:"button",className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white hover:from-emerald-600 hover:to-emerald-700 px-6 py-3 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg font-semibold",onClick:()=>{C(),setTimeout(()=>{var r;x(((r=s.activities)==null?void 0:r.length)||0)},0)},children:[e.jsx(f,{size:16})," ",t("add_activity")]})]}),e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3",children:(p=s.activities)==null?void 0:p.map((r,a)=>e.jsx("button",{type:"button",className:`h-12 min-w-[48px] px-4 rounded-xl text-lg font-bold transition-all duration-200 shadow-md hover:shadow-lg ${a===o?"bg-gradient-to-r from-blue-500 to-blue-600 text-white transform scale-110":"bg-white border-2 border-blue-300 text-blue-600 hover:bg-blue-50 hover:border-blue-400"}`,onClick:()=>L(a),children:a+1},a))})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-blue-200",children:e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${o*100}%)`},children:(b=s.activities)==null?void 0:b.map((r,a)=>e.jsx("div",{className:"w-full flex-shrink-0",ref:l=>I.current[a]=l,children:e.jsx(Q,{activity:r,index:a,clients:j,worksites:w,products:N,users:c,handleActivityChange:(l,i,d)=>{k(l,i,d)},removeActivity:A,appendTask:(l,i)=>{l.preventDefault(),F(i)},removeTask:R,appendMaterial:(l,i,d)=>{l.preventDefault(),P(i,d)},removeMaterial:T})},a))})})})]})}),e.jsx("section",{className:"w-full flex justify-end gap-4",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 p-6 rounded-xl shadow-lg",children:e.jsx(v,{content:t("submit_report_tooltip"),children:e.jsxs("button",{type:"submit",className:"flex items-center bg-white text-emerald-600 hover:bg-emerald-50 font-bold py-4 px-8 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(X,{className:"mr-3 text-xl"}),e.jsx("span",{className:"text-lg",children:t("submit")})]})})})}),B&&e.jsx(U,{report:s,onClose:()=>m(!1),validateForm:S}),$]})},he=()=>{const{t}=g(),s=W();return e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-8 text-white rounded-xl shadow-lg mb-8",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"text-4xl mr-4"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["âœ¨ ",t("create_report")]}),e.jsx("p",{className:"text-lg mt-2 opacity-90",children:t("create_new_report_description","Create a new work report with activities and tasks")})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>s("/report-list"),className:"bg-white text-gray-700 px-6 py-3 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 border-2 border-gray-200 hover:border-amber-300 flex items-center space-x-2 hover:bg-amber-50",children:[e.jsx(G,{className:"text-lg"}),e.jsx("span",{className:"font-semibold",children:t("back_to_list")})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-blue-200",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 border-b-2 border-blue-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"text-2xl text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t("report_form","Formulario Report")})]})}),e.jsx("div",{className:"p-6",children:e.jsx(Y,{})})]})]})};export{he as default};
